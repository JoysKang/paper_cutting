# 小学语文试卷结构化提示词

## 🎯 任务
将语文试卷OCR文本转换为JSON结构。**只输出JSON，不输出解释。**

---

## 🚨 核心法则（只有1条）

### 拆分判断：独立性测试

**在拆分前问自己：**
> 如果删掉父题content，只看subq.content，学生能做这道题吗？

- **能做** → 拆分 ✅
  - 例：`wú qióng wú jìn（ ）` ← 能写出"无穷无尽"
  - 例：`(1) 机器人可以检查作业。（ ）` ← 能判断对错

- **不能做** → 不拆分 ❌
  - 例：`①如今百姓生活富足___。` ← 不知道从哪些词里选
  - 例：`春天来了，shān pō（ ）上...` ← 不知道语境

**判断口诀：**
> 子题能独立 → 拆  
> 需要背景/词库/语境 → 不拆

---

## 🚨 四大强制规则

### 规则1：拼音原样保留
- 所有拼音必须保留（包括opts中的）
- 禁止转换成汉字

### 规则2：选项完整保留
- 选择题opts不能为空
- opts数量必须=原题选项数量

### 规则3：图片全保留
- 所有图片URL必须保留
- 独立配图不需要`[img:0]`

### 规则4：格式保留
- 段落之间用 `\n\n`
- 句子之间用 `\n`

---

## 📖 典型案例（6个）

### 案例1：选词填空（不拆）
```json
{
  "prompt": "从"内忧外患、国泰民安"中选择填空。",
  "content": "①如今百姓生活富足___。②无数先辈为了民族独立___。",
  "subqs": []
}
```
**为什么不拆？** ①②需要共享词库，不独立。

---

### 案例2：拼音填空-段落式（不拆）
```json
{
  "prompt": "看拼音，写词语。",
  "content": "春天来了，shān pō（ ）上开满了野花。小朋友们 pái liè（ ）着队伍。",
  "subqs": []
}
```
**为什么不拆？** 拼音需要语境，不独立。

---

### 案例3：补充词语-列表式（拆）
```json
{
  "prompt": "补充词语。",
  "content": "",
  "subqs": [
    {"no": "1.1", "content": "wú qióng wú jìn（ ）"},
    {"no": "1.2", "content": "chéng qún jié duì（ ）"}
  ]
}
```
**为什么拆？** 每个词语独立，能单独做。

---

### 案例4：判断题（拆）
```json
{
  "prompt": "判断对错。",
  "content": "",
  "subqs": [
    {"no": "2.1", "content": "(1) 机器人可以检查作业。（ ）"},
    {"no": "2.2", "content": "(2) 机器人能识别危险。（ ）"}
  ]
}
```
**为什么拆？** 每个判断独立。

---

### 案例5：阅读理解（拆）
```json
{
  "prompt": "阅读短文，回答问题。",
  "content": "完整阅读材料...\n\n第二段...",
  "subqs": [
    {"no": "3.1", "prompt": "在文中填标点。"},
    {"no": "3.2", "prompt": "文中把什么比作音乐家？"}
  ]
}
```
**为什么拆？** 问题独立（但需要材料背景，所以材料在父题）。

---

### 案例6：选择题
```json
{
  "prompt": "加点字注音完全正确的是（ ）。",
  "content": "",
  "opts": [
    {"id": "①", "txt": "全域（yù） 应接不暇（jiǎ）", "img": ""},
    {"id": "②", "txt": "全域（chéng） 应接不暇（xiá）", "img": ""}
  ]
}
```
**选择题用opts，不用subqs。**

---

## ✅ 输出前检查（4步）

### 检查1：拼音
- [ ] 所有拼音保留？（包括opts）

### 检查2：选项
- [ ] opts不为空？数量对？

### 检查3：拆分合理性
**做独立性测试：**
- [ ] 删掉父题content，subqs能独立做题吗？
- [ ] 如果不能 → 不该拆分，立即合并

### 检查4：格式
- [ ] 段落用\n\n分隔？

---

## ⚠️ 高频错误

| 错误 | 检测方法 | 修复 |
|-----|---------|------|
| 选词填空被拆分 | subqs的content没有词库 | 合并到父题 |
| 段落拼音被拆分 | subqs的content没有语境 | 合并到父题 |
| 判断题未拆分 | 每个判断能独立做 | 拆分成subqs |
| opts为空 | 原题有选项但opts=[] | 补充所有选项 |

---

## 🎯 记忆口诀

**拆分法则（只记1条）：**
> 子题能独立做 → 拆  
> 需要背景/词库/语境 → 不拆

**四大规则：**
1. 拼音全保留
2. 选项不能空
3. 图片全保留
4. 格式要保留