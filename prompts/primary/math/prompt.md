# 小学数学学科特定提示词

## 学科特征

### 核心特点
- 注重计算能力和应用能力
- 包含口算、笔算、应用题、图形题等多种题型
- LaTeX 数学符号使用频繁且必须精确保留
- 题目间逻辑关系明确,需要准确识别拆分规则

### 数学题型分类
- **计算题**：口算题、笔算题(列竖式)、脱式计算
- **填空题**：数字填空、单位换算、规律填空、符号填空
- **选择题**：单选题、多选题
- **判断题**：正误判断
- **应用题**：文字题、图文结合题、解决实际问题
- **操作题**：画图、测量、作图、涂色
- **综合题**：多知识点结合

---

## 核心规则（按重要性排序）

### 规则1：LaTeX公式100%保留（最重要❗）

**所有数学符号必须原样保留，不得转换：**

| LaTeX格式 | ✅ 正确 | ❌ 错误 |
|----------|--------|--------|
| `$ 12 \\div 6 = $` | 保持原样 | 改成 `12÷6=` |
| `$ 3 \\times 4 = $` | 保持原样 | 改成 `3×4=` |
| `$ \\frac{1}{2} $` | 保持原样 | 改成 `1/2` |
| `$ \\bigcirc $` | 保持原样 | 改成 `○` |
| `$ \\geq $` `$ \\leq $` | 保持原样 | 改成 `≥` `≤` |

**铁律：看到 `$` 符号，里面的内容一个字符都不要改！**

**常见数学符号清单：**
- 除法：`$ \\div $`
- 乘法：`$ \\times $`
- 圆圈：`$ \\bigcirc $`
- 分数：`$ \\frac{分子}{分母} $`
- 大于等于：`$ \\geq $`
- 小于等于：`$ \\leq $`
- 等号：`$ = $`

---

### 规则2：计算题拆分规则（必须拆分）

**核心原则：多个独立算式必须拆分成子题，每个算式是一个子题**

#### 2.1 口算题/直接写出得数

```json
{
  "no": "1",
  "prompt": "口算，看谁算得又对又快。",
  "content": "",
  "type": "计算",
  "score": "12分",
  "subqs": [
    {"no": "1.1", "content": "$ 105 \\times 4 = $", "type": "计算"},
    {"no": "1.2", "content": "$ 3 \\times 700 = $", "type": "计算"},
    {"no": "1.3", "content": "$ 320 \\times 3 = $", "type": "计算"},
    {"no": "1.4", "content": "$ 10 \\div 5 = $", "type": "计算"}
  ]
}
```

#### 2.2 列竖式计算

```json
{
  "no": "2",
  "prompt": "列竖式计算。",
  "content": "",
  "type": "计算",
  "score": "9分",
  "subqs": [
    {"no": "2.1", "content": "$ 705 - 246 = $", "type": "计算"},
    {"no": "2.2", "content": "$ 234 \\times 3 = $", "type": "计算"},
    {"no": "2.3", "content": "$ 456 \\div 8 = $", "type": "计算"}
  ]
}
```

#### 2.3 脱式计算

```json
{
  "no": "3",
  "prompt": "脱式计算。",
  "content": "",
  "type": "计算",
  "score": "12分",
  "subqs": [
    {"no": "3.1", "content": "$ 125 + 75 \\times 4 $", "type": "计算"},
    {"no": "3.2", "content": "$ (360 - 60) \\div 6 $", "type": "计算"}
  ]
}
```

---

### 规则3：填空题拆分规则

**判断原则：并列关系的多个独立填空需要拆分，完整情景的填空不拆分**

#### 3.1 符号填空（必须拆分）

```json
{
  "no": "2",
  "prompt": "在 $ \\bigcirc $ 里填上"+""-""×"或"÷"。",
  "content": "",
  "type": "填空",
  "score": "6分",
  "subqs": [
    {"no": "2.1", "content": "24 $ \\bigcirc $ 6=30", "type": "填空"},
    {"no": "2.2", "content": "15 $ \\bigcirc $ 3=5", "type": "填空"},
    {"no": "2.3", "content": "4 $ \\bigcirc $ 4=16", "type": "填空"}
  ]
}
```

#### 3.2 单位换算（必须拆分）

```json
{
  "no": "4",
  "prompt": "填空。",
  "content": "",
  "type": "填空",
  "score": "9分",
  "subqs": [
    {"no": "4.1", "content": "30 分米 =（ ）米", "type": "填空"},
    {"no": "4.2", "content": "5000 克 = （ ）千克", "type": "填空"},
    {"no": "4.3", "content": "350 厘米 =（ ）米（ ）分米", "type": "填空"}
  ]
}
```

#### 3.3 综合情景填空（不拆分）

**特征：一个情境，多个空在一起，构成完整语义**

```json
{
  "no": "3",
  "prompt": "",
  "content": "中医药文化体验周中，同学们在制作草药知识手册。一共准备了 64 张空白手册页，每 8 张装订成一本，每个小组领取 2 本，这些手册页最多能分给（ ）个小组。",
  "type": "填空",
  "score": "1分"
}
```

```json
{
  "no": "1",
  "prompt": "",
  "content": "$ 12 \\div 6 = $ (    )，可以表示把（    ）平均分成（    ）份，每份是（    ）。",
  "type": "填空",
  "score": "4分"
}
```

**注意：这类题目的完整内容应放在 content，prompt 为空**

---

### 规则4：应用题拆分规则（必须拆分多问）

**核心原则：一个问题不拆分，多个问题必须拆分**

#### 4.1 单一问题（不拆分）

```json
{
  "no": "1",
  "prompt": "",
  "content": "油纸伞是中国传统工艺品之一，李叔叔和王叔叔是做油纸伞的手艺人。李叔叔每个月做 8 把油纸伞，王叔叔每个月做 6 把油纸伞，他们做了 5 个月。李叔叔和王叔叔 5 个月一共做了多少把油纸伞？",
  "type": "应用",
  "score": "5分"
}
```

#### 4.2 多个问题（必须拆分）

**标志：(1)(2)、①②、第一问第二问等**

```json
{
  "no": "5",
  "prompt": "",
  "content": "2025 年 12 月海南自贸港正式封关运作，海口某免税店举办了研学体验活动。\n\n① 上午到免税店参与研学体验的小学生有 115 人。\n② 体验 "免税玩具挑选" 的有 32 人，体验 "海南特产选购" 的人数比它多 14 人。\n③ 下午参与研学的人数是上午的 3 倍少 20 人。\n④ 体验 "免税科普小课堂" 的人数是 "免税玩具挑选" 和 "海南特产选购" 人数之和的 2 倍。",
  "type": "应用",
  "score": "11分",
  "subqs": [
    {
      "no": "5.1",
      "prompt": "要解决 "下午有多少名小学生参与研学体验" 的问题，用到的信息是（ ）。（填序号）并解答。",
      "content": "",
      "type": "应用",
      "score": "3分"
    },
    {
      "no": "5.2",
      "prompt": "体验 "免费科普小课堂" 的小学生有多少人？",
      "content": "",
      "type": "应用",
      "score": "8分"
    }
  ]
}
```

#### 4.3 图文结合应用题

**重要：配图必须放在父题的 imgs 数组中**

**情况1：图片嵌入在文字中（需要 [img:索引]）**

当图片是文字叙述的一部分时，用 `[img:0]` 标注位置：

```json
{
  "no": "6",
  "prompt": "",
  "content": "[img:0]小明有36颗糖，平均分给6个小朋友。",
  "type": "应用",
  "score": "8分",
  "imgs": ["https://...糖果图.png"],
  "subqs": [
    {"no": "6.1", "prompt": "(1)每人分几颗？", "content": "", "type": "应用", "score": "4分"},
    {"no": "6.2", "prompt": "(2)如果每人分3颗，可以分给几个小朋友？", "content": "", "type": "应用", "score": "4分"}
  ]
}
```

**情况2：独立配图（不需要 [img:索引]）**

当图片是题目上方或下方的独立配图时，只需要保留在 imgs 数组，不用标注位置：

```json
{
  "no": "7",
  "prompt": "",
  "content": "根据上图，解决问题：小明有36颗糖，平均分给6个小朋友。",
  "type": "应用",
  "score": "8分",
  "imgs": ["https://...情景图.png"],
  "subqs": [
    {"no": "7.1", "prompt": "(1)每人分几颗？", "content": "", "type": "应用", "score": "4分"}
  ]
}
```

**判断原则：**
- 图片在文字中间（如"[img:0]小明拿着糖果..."） → 用 `[img:索引]`
- 图片是独立配图（如题目说"根据上图"） → imgs数组保留，不用标注
- **两种情况都必须把图片URL保留在 imgs 数组中**

---

### 规则5：选择题处理规则

**opts 数组必须包含所有选项，id字段使用试卷实际的标识**

#### 5.1 文字选项

```json
{
  "no": "3",
  "prompt": "",
  "content": "下列哪个算式正确？(  )",
  "type": "选择",
  "score": "2分",
  "opts": [
    {"id": "A", "txt": "12÷3=6", "img": ""},
    {"id": "B", "txt": "12÷4=3", "img": ""},
    {"id": "C", "txt": "12÷6=3", "img": ""}
  ]
}
```

#### 5.2 算式选项（保留LaTeX）

```json
{
  "no": "4",
  "prompt": "",
  "content": "选择正确的算式。(  )",
  "type": "选择",
  "score": "2分",
  "opts": [
    {"id": "①", "txt": "$ 12 \\div 2 = 6 $", "img": ""},
    {"id": "②", "txt": "$ 12 \\div 3 = 4 $", "img": ""},
    {"id": "③", "txt": "$ 12 \\div 4 = 2 $", "img": ""}
  ]
}
```

#### 5.3 图片选项

```json
{
  "no": "5",
  "prompt": "",
  "content": "下面哪个图形是平行四边形？(  )",
  "type": "选择",
  "score": "2分",
  "opts": [
    {"id": "A", "txt": "", "img": "https://...图形A.png"},
    {"id": "B", "txt": "", "img": "https://...图形B.png"},
    {"id": "C", "txt": "", "img": "https://...图形C.png"}
  ]
}
```

---

### 规则6：判断题处理规则

**多个独立判断语句需要拆分成子题**

```json
{
  "no": "1",
  "prompt": "判断对错。",
  "content": "",
  "type": "判断",
  "score": "6分",
  "subqs": [
    {"no": "1.1", "content": "0除以任何数都得0。(  )", "type": "判断"},
    {"no": "1.2", "content": "被除数一定比除数大。(  )", "type": "判断"},
    {"no": "1.3", "content": "两个数相除，商一定小于被除数。(  )", "type": "判断"}
  ]
}
```

---

### 规则7：操作题处理规则

**图片必须保留，操作说明要完整**

#### 7.1 作图题

```json
{
  "no": "1",
  "prompt": "请你根据香囊纹样的设计要求，完成以下绘制：",
  "content": "",
  "type": "作图",
  "score": "8分",
  "subqs": [
    {
      "no": "1.1",
      "prompt": "金银花纹是一条比 1dm 少 6cm 的线段勾勒出来的，请你画出这条线段。",
      "content": "",
      "type": "作图",
      "score": "6分"
    },
    {
      "no": "1.2",
      "prompt": "如图，以给出的一条边和顶点 A 画一个直角。",
      "content": "",
      "type": "作图",
      "score": "2分",
      "imgs": ["https://...底图.png"]
    }
  ]
}
```

**注意：作图题的底图是独立配图，不需要 [img:索引] 标注**

#### 7.2 涂色题

```json
{
  "no": "2",
  "prompt": "",
  "content": "在中医药香囊的制作中，需要先在正方形布料上划分出香料填充区域。请你在右边正方形布料上涂出 $ \\frac{1}{2} $ 的区域，作为艾草填充区。",
  "type": "操作",
  "score": "2分",
  "imgs": ["https://...正方形布料底图.png"]
}
```

**注意：布料底图是独立配图，不需要 [img:索引] 标注**

#### 7.3 测量题

```json
{
  "no": "3",
  "prompt": "",
  "content": "用直尺测量下面线段的长度，并填空。",
  "type": "操作",
  "score": "3分",
  "imgs": ["https://...线段图.png"]
}
```

**注意：线段图是独立配图，不需要 [img:索引] 标注**

---

## 完整示例

### 示例0：含趣味引导的大题

```json
{
  "no": "三",
  "title": "知识之窗，仔细阅读思考再填空",
  "score": "19分",
  "desc": "亲爱的同学们，校园里文化体验周开始啦！在这里，我们能挑战识字关、学习看事创作、还能体验中医药知识的小秘密。让我们一起在答题之旅中，涌涌春景气的活动主题大家想吧！",
  "qs": [
    {
      "no": "1",
      "prompt": "",
      "content": "草药展示台摆着一个正方体形状的草药标本盒，在下面括号内填上三张照片分别是在牛奶盒的哪个方向拍的。（填"前""上"或"右"）",
      "type": "填空",
      "score": "1分",
      "imgs": ["https://...标本盒图.png", "https://...照片1.png", "https://...照片2.png", "https://...照片3.png"]
    }
  ]
}
```

**关键点：**
- 趣味引导语放在 `desc` 字段
- 题目完整内容放在 `content`
- 多张图片按顺序放在 `imgs` 数组

### 示例1：完整的口算题大题

```json
{
  "no": "一",
  "title": "口算，看谁算得又对又快",
  "score": "12分",
  "qs": [
    {
      "no": "1",
      "prompt": "口算。",
      "content": "",
      "type": "计算",
      "score": "12分",
      "subqs": [
        {"no": "1.1", "content": "$ 105 \\times 4 = $", "type": "计算"},
        {"no": "1.2", "content": "$ 3 \\times 700 = $", "type": "计算"},
        {"no": "1.3", "content": "$ 10 \\div 5 = $", "type": "计算"},
        {"no": "1.4", "content": "$ 30 \\div 6 = $", "type": "计算"},
        {"no": "1.5", "content": "$ 15 \\div 3 = $", "type": "计算"},
        {"no": "1.6", "content": "$ 3 \\times 6 = $", "type": "计算"}
      ]
    }
  ]
}
```

### 示例1.5：含图片的填空题

```json
{
  "no": "一",
  "title": "填一填",
  "score": "31分",
  "qs": [
    {
      "no": "1",
      "prompt": "",
      "content": "$ 12 \\div 6= $ (    ), 可以表示把 (    ) 平均分成 (    ) 份，每份是 (    )；也可以表示 (    ) 里面有 (    ) 个 (    )。",
      "type": "填空",
      "score": "4分"
    },
    {
      "no": "3",
      "prompt": "",
      "content": "[img:0]把（    ）个苹果平均分给2个小朋友，每个小朋友分（    ）个苹果，列式为（    ）÷（    ）=（    ），读作（    ）。",
      "type": "填空",
      "score": "4分",
      "imgs": ["https://...苹果图片.png"]
    }
  ]
}
```

**关键点：**
- ✅ 第3题用 `[img:0]` 标注苹果图片的位置
- ✅ 图片URL保留在 imgs 数组中
- ✅ content 包含完整的题目内容和图片位置标记

### 示例2：完整的填空题大题（混合类型）

```json
{
  "no": "二",
  "title": "填一填",
  "score": "15分",
  "qs": [
    {
      "no": "1",
      "prompt": "在 $ \\bigcirc $ 里填上"+""-""×"或"÷"。",
      "content": "",
      "type": "填空",
      "score": "6分",
      "subqs": [
        {"no": "1.1", "content": "24 $ \\bigcirc $ 6=30", "type": "填空"},
        {"no": "1.2", "content": "15 $ \\bigcirc $ 3=5", "type": "填空"}
      ]
    },
    {
      "no": "2",
      "prompt": "",
      "content": "$ 12 \\div 6 = $ (    )，可以表示把（    ）平均分成（    ）份。",
      "type": "填空",
      "score": "3分"
    },
    {
      "no": "3",
      "prompt": "",
      "content": "中医药文化体验周中，同学们在制作草药知识手册。一共准备了 64 张空白手册页，每 8 张装订成一本，每个小组领取 2 本，这些手册页最多能分给（ ）个小组。",
      "type": "填空",
      "score": "2分"
    },
    {
      "no": "4",
      "prompt": "填空。",
      "content": "",
      "type": "填空",
      "score": "4分",
      "subqs": [
        {"no": "4.1", "content": "30 分米 =（ ）米", "type": "填空"},
        {"no": "4.2", "content": "5000 克 = （ ）千克", "type": "填空"}
      ]
    }
  ]
}
```

### 示例3：完整的应用题大题

```json
{
  "no": "五",
  "title": "解决问题",
  "score": "25分",
  "qs": [
    {
      "no": "1",
      "prompt": "",
      "content": "油纸伞是中国传统工艺品之一，李叔叔和王叔叔是做油纸伞的手艺人。李叔叔每个月做 8 把油纸伞，王叔叔每个月做 6 把油纸伞，他们做了 5 个月。李叔叔和王叔叔 5 个月一共做了多少把油纸伞？",
      "type": "应用",
      "score": "5分"
    },
    {
      "no": "2",
      "prompt": "",
      "content": "小明有36颗糖，平均分给6个小朋友。",
      "type": "应用",
      "score": "9分",
      "imgs": ["https://...情景图.png"],
      "subqs": [
        {"no": "2.1", "prompt": "(1)每人分几颗？", "content": "", "type": "应用", "score": "4分"},
        {"no": "2.2", "prompt": "(2)如果每人分3颗，可以分给几个小朋友？", "content": "", "type": "应用", "score": "5分"}
      ]
    },
    {
      "no": "3",
      "prompt": "",
      "content": "2025 年 12 月海南自贸港正式封关运作，海口某免税店举办了研学体验活动。\n\n① 上午到免税店参与研学体验的小学生有 115 人。\n② 体验 "免税玩具挑选" 的有 32 人，体验 "海南特产选购" 的人数比它多 14 人。\n③ 下午参与研学的人数是上午的 3 倍少 20 人。\n④ 体验 "免税科普小课堂" 的人数是 "免税玩具挑选" 和 "海南特产选购" 人数之和的 2 倍。",
      "type": "应用",
      "score": "11分",
      "subqs": [
        {
          "no": "3.1",
          "prompt": "要解决 "下午有多少名小学生参与研学体验" 的问题，用到的信息是（ ）。（填序号）并解答。",
          "content": "",
          "type": "应用",
          "score": "3分"
        },
        {
          "no": "3.2",
          "prompt": "体验 "免税科普小课堂" 的小学生有多少人？",
          "content": "",
          "type": "应用",
          "score": "8分"
        }
      ]
    }
  ]
}
```

---

## 关键注意事项

### ⭐ 五大铁律（必须遵守）

1. **LaTeX格式绝对不能改动**
   - 这是最容易出错的地方
   - 看到 `$` 符号，原样保留所有内容

2. **计算题必须拆分**
   - 每个独立算式 = 一个子题
   - 口算、笔算、脱式计算都要拆分

3. **单位换算必须拆分**
   - 每个换算式 = 一个子题

4. **应用题按问题数量拆分**
   - 一个问题 = 不拆分
   - 多个问题 = 必须拆分

5. **选项格式要统一**
   - id字段使用试卷实际的标识（A/B/C 或 ①/②/③ 或 1/2/3）

### 常见错误对照表

| 错误做法 | 正确做法 |
|---------|---------|
| 把 `$ \\div $` 改成 `÷` | 保持 `$ \\div $` |
| 把 `$ \\times $` 改成 `×` | 保持 `$ \\times $` |
| 把 `$ \\frac{1}{2} $` 改成 `1/2` | 保持 `$ \\frac{1}{2} $` |
| 口算题不拆分 | 每个算式拆成一个子题 |
| 单位换算不拆分 | 每个换算拆成一个子题 |
| 多问应用题不拆分 | 每个问题拆成一个子题 |
| 选项用错id（A/B/C vs ①/②/③） | 使用试卷实际的标识 |
| **把题目内容放在 prompt** | **内容放 content，要求放 prompt** |
| **题目配图遗漏** | **保留在 imgs 数组中** |
| **独立配图用了 [img:0]** | **独立配图不需要位置标注** |
| **图片嵌入文字中没用 [img:0]** | **图片在文字中要用 [img:0]** |

### 质量检查清单

在完成JSON输出前，请检查：

- [ ] 所有 `$...$` 内的LaTeX符号是否完全保留？
- [ ] **prompt 和 content 是否正确分离？**（内容放content，要求放prompt）
- [ ] **趣味引导、说明文字是否放在 desc 字段？**
- [ ] 计算题是否每个算式都拆分了？
- [ ] 单位换算是否每个都拆分了？
- [ ] 多问应用题是否拆分了？
- [ ] 选择题的opts数组是否包含所有选项？
- [ ] 选择题的id是否使用了试卷原有的标识？
- [ ] **图片URL是否正确填入imgs数组？没有遗漏？**
- [ ] **图片嵌入文字中时，是否用了 [img:索引]？**
- [ ] **独立配图是否避免了使用 [img:索引]？**
- [ ] 分数是否正确标注？
- [ ] 题号是否连续且正确？